<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thor Kawagga – Portfolio</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="header-placeholder"></div>
  
<section class="hero transparent-hero">
  <video autoplay muted loop playsinline class="hero-bg">
    <source src="assets/background-video.mp4" type="video/mp4" />
  </video>
  <div class="hero-overlay">
    <h1>Thor Kawagga</h1>
    <p>Creative Portfolio</p>
  </div>
</section>
<h2 style='text-align:center; margin-top:2rem;'>Recent Work</h2>
<main class="grid-layout">
  
<a href="projects/bolt-cam.html" class="grid-item">
  <div class="media-wrapper">
    <img src="assets/project-still.jpg" />
    <div class="hover-overlay">
      <h3>Bolt Cam</h3>
      <div class="tags"><span>Commercial</span><span>Concept</span></div>
    </div>
  </div>
</a>

</div>

<a href="projects/bolt-cam.html" class="grid-item">
  <div class="media-wrapper">
    <img src="assets/project-still.jpg" />
    <div class="hover-overlay">
      <h3>Bolt Cam</h3>
      <div class="tags"><span>Commercial</span><span>Concept</span></div>
    </div>
  </div>
</a>

</div>


</main>

  <div id="footer-placeholder"></div>
  <script>
    async function loadComponent(id, file) {
      const res = await fetch(file);
      const html = await res.text();
      document.getElementById(id).innerHTML = html;
    }
    document.addEventListener("DOMContentLoaded", () => {
      loadComponent("header-placeholder", "components/header.html").then(() => {
        const observer = new MutationObserver(() => {
          const toggle = document.getElementById("menu-toggle");
          const menu = document.getElementById("nav-menu");
          if (toggle && menu) {
            toggle.addEventListener("click", () => {
              menu.classList.toggle("show");
            });
            observer.disconnect();
          }
        });
        observer.observe(document.getElementById("header-placeholder"), {
          childList: true,
          subtree: true
        });
      });
      loadComponent("footer-placeholder", "components/footer.html");
      loadComponent("contact-modal-placeholder", "components/contact-modal.html");
    });
    function toggleContactModal() {
      const modal = document.getElementById("contact-modal");
      modal.style.display = modal.style.display === "flex" ? "none" : "flex";
    }
  </script>
  <div id="header-placeholder"></div>
<div id="footer-placeholder"></div>

<script>
  async function loadComponent(id, file) {
    const res = await fetch(file);
    const html = await res.text();
    document.getElementById(id).innerHTML = html;
  }

  document.addEventListener("DOMContentLoaded", () => {
    loadComponent("header-placeholder", "components/header.html").then(() => {
      // 🔁 Re-attach menu toggle after dynamic load
      const observer = new MutationObserver(() => {
        const toggle = document.getElementById("menu-toggle");
        const menu = document.getElementById("nav-menu");
        if (toggle && menu) {
          toggle.addEventListener("click", () => {
            menu.classList.toggle("show");
          });
          observer.disconnect();
        }
      });

      observer.observe(document.getElementById("header-placeholder"), {
        childList: true,
        subtree: true
      });
    });

    loadComponent("footer-placeholder", "components/footer.html");
    loadComponent("contact-modal-placeholder", "components/contact-modal.html");
  });
</script>
<div id="contact-modal-placeholder"></div>
  <button id="contact-float-btn" onclick="toggleContactModal()">Contact Me</button>
</body>
</html>
